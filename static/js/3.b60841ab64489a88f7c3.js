webpackJsonp([3],{c7wm:function(t,e){},mlqX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xxa5"),s=n.n(i),a=n("woOf"),r=n.n(a),o=n("exGp"),c=n.n(o),u={name:"index",data:function(){return{activeMenuIndex:0,menuList:[],navList:this.$router.options.routes.filter(function(t){return t.meta&&t.meta.nav}),activeNavIndex:0}},computed:{formid:function(){return this.$route.query.id}},created:function(){this.getFormList()},methods:{getFormList:function(){var t=this;return c()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/form/getFormList",{type:1});case 2:n=e.sent,t.menuList=n.data,t.menuList&&t.menuList.length?r()(t.$route.query,{id:t.menuList[0].id}):t.$router.push({path:"/"});case 5:case"end":return e.stop()}},e,t)}))()},handleDelete:function(){var t,e=this;this.menuList[this.activeMenuIndex]&&this.$confirm("确认"+this.menuList[this.activeMenuIndex].formname+"删除吗","提示").then((t=c()(s.a.mark(function t(n){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("confirm"!==n){t.next=6;break}return t.next=3,e.$http.post("/form/deleteForm",{id:e.formid});case 3:1===(i=t.sent).code?e.$message.success(i.message):e.$message.error("删除失败"),e.getFormList();case 6:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},handleNavSelect:function(t){console.log(t),this.activeMenuIndex=t},jumpPageForm:function(t,e){this.activeMenuIndex=e,this.$router.push({path:"/user/output-release",query:{id:t.id}})},jumpPageEditForm:function(t){var e="";t&&(e=this.formid),window.open("/admin/editForm?id="+e)}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("el-header",{staticClass:"tableheader"},[n("el-row",{staticClass:"padd-height",attrs:{gutter:20}},[n("el-col",{staticClass:"padd-height",attrs:{span:22,offset:0,type:"flex",align:"center"}},[n("div",{staticClass:"logo"},[t._v("\n          DM工具箱")]),t._v(" "),n("el-menu",{attrs:{mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","default-active":t.activeNavIndex+""},on:{select:t.handleNavSelect}},t._l(t.navList,function(e,i){return n("el-menu-item",{key:i,attrs:{index:i+""}},[t._v(t._s(e.meta.title))])}),1)],1)],1)],1),t._v(" "),n("div",{staticClass:"hasmenu"},[t.menuList.length?n("section",{staticClass:"form-list"},[n("div",{staticClass:"form-area"},t._l(t.menuList,function(e,i){return n("el-button",{key:i,staticClass:"form-btn",attrs:{type:i==t.activeMenuIndex?"primary":"",size:"mini"},on:{click:function(n){return t.jumpPageForm(e,i)}}},[t._v("\n          "+t._s(e.formname)+"\n        ")])}),1),t._v(" "),n("div",{staticClass:"btn-right"},[n("el-button",{staticClass:"edit-btn",attrs:{size:"mini",plain:""},on:{click:function(e){return t.handleDelete()}}},[n("i",{staticClass:"el-icon-delete delete"}),t._v("删除")]),t._v(" "),n("el-button",{staticClass:"edit-btn",attrs:{size:"mini",plain:""},on:{click:function(e){return t.jumpPageEditForm(1)}}},[t._v("编辑表单")]),t._v(" "),n("el-button",{staticClass:"edit-btn",attrs:{size:"mini",plain:""},on:{click:function(e){return t.jumpPageEditForm()}}},[t._v("新建表单")])],1)]):t._e(),t._v(" "),0===t.menuList.length?n("section",[n("el-button",{staticClass:"big-btn",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.jumpPageEditForm}},[t._v("\n        添加表单\n      ")])],1):n("section",{staticClass:"main-area"},[n("router-view")],1)])],1)},staticRenderFns:[]};var m=n("VU/8")(u,l,!1,function(t){n("c7wm")},null,null);e.default=m.exports}});
//# sourceMappingURL=3.b60841ab64489a88f7c3.js.map