{"version":3,"sources":["webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?ca16","webpack:///./src/views/Index.vue"],"names":["Index","name","data","activeMenuIndex","menuList","navList","this","$router","options","routes","filter","item","meta","nav","activeNavIndex","computed","formid","$route","query","id","created","getFormList","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$http","post","type","sent","length","assign_default","push","stop","handleDelete","_ref","_this2","$confirm","formname","then","_callee2","_data","_context2","code","$message","success","message","error","_x","apply","arguments","handleNavSelect","index","console","log","jumpPageForm","jumpPageEditForm","isEdit","window","open","views_Index","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","offset","align","_v","mode","background-color","text-color","active-text-color","default-active","on","select","_l","key","_s","title","size","click","$event","plain","_e","icon","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"6LA2CAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,gBAAA,EACAC,YACAC,QAAAC,KAAAC,QAAAC,QAAAC,OAAAC,OAAA,SAAAC,GAAA,OAAAA,EAAAC,MAAAD,EAAAC,KAAAC,MACAC,eAAA,IAIAC,UACAC,OADA,WAEA,OAAAV,KAAAW,OAAAC,MAAAC,KAGAC,QAhBA,WAiBAd,KAAAe,eAEAC,SACAD,YADA,WACA,IAAAE,EAAAjB,KAAA,OAAAkB,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAA1B,EAAA,OAAAuB,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAT,EAAAU,MAAAC,KAAA,qBACAC,KAAA,IAFA,OACAjC,EADA4B,EAAAM,KAIAb,EAAAnB,SAAAF,OACAqB,EAAAnB,UAAAmB,EAAAnB,SAAAiC,OACAC,IAAAf,EAAAN,OAAAC,OACAC,GAAAI,EAAAnB,SAAA,GAAAe,KAIAI,EAAAhB,QAAAgC,KAAA,KAXA,wBAAAT,EAAAU,SAAAZ,EAAAL,KAAAC,IAcAiB,aAfA,WAeA,IAEAC,EAFAC,EAAArC,KACAA,KAAAF,SAAAE,KAAAH,kBACAG,KAAAsC,SAAA,KAAAtC,KAAAF,SAAAE,KAAAH,iBAAA0C,SAAA,YAAAC,MAAAJ,EAAAlB,IAAAC,EAAAC,EAAAC,KAAA,SAAAoB,EAAA7C,GAAA,IAAA8C,EAAA,OAAAvB,EAAAC,EAAAG,KAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,UACA,YAAA9B,EADA,CAAA+C,EAAAjB,KAAA,eAAAiB,EAAAjB,KAAA,EAEAW,EAAAV,MAAAC,KAAA,oBACAf,GAAAwB,EAAA3B,SAHA,OAKA,KAHAgC,EAFAC,EAAAb,MAKAc,KACAP,EAAAQ,SAAAC,QAAAJ,EAAAK,SAEAV,EAAAQ,SAAAG,MAAA,QAEAX,EAAAtB,cAVA,wBAAA4B,EAAAT,SAAAO,EAAAJ,MAAA,SAAAY,GAAA,OAAAb,EAAAc,MAAAlD,KAAAmD,eAcAC,gBA/BA,SA+BAC,GACAC,QAAAC,IAAAF,GACArD,KAAAH,gBAAAwD,GAEAG,aAnCA,SAmCAnD,EAAAgD,GACArD,KAAAH,gBAAAwD,EACArD,KAAAC,QAAAgC,KAAA,2BAAA5B,EAAAQ,KAEA4C,iBAvCA,SAuCAC,GACA,IAAA7C,EAAA,GAEA6C,IACA7C,EAAAb,KAAAU,QAIAiD,OAAAC,KAAA,sBAAA/C,MC1GegD,GADEC,OAFjB,WAA0B,IAAAC,EAAA/D,KAAagE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,aAAkBE,YAAA,gBAA0BF,EAAA,UAAeE,YAAA,cAAAC,OAAiCC,OAAA,MAAaJ,EAAA,UAAeE,YAAA,cAAAC,OAAiCE,KAAA,GAAAC,OAAA,EAAA3C,KAAA,OAAA4C,MAAA,YAAqDP,EAAA,OAAYE,YAAA,SAAmBL,EAAAW,GAAA,uBAAAX,EAAAW,GAAA,KAAAR,EAAA,WAA0DG,OAAOM,KAAA,aAAAC,mBAAA,UAAAC,aAAA,OAAAC,oBAAA,UAAAC,iBAAAhB,EAAAvD,eAAA,IAA0IwE,IAAKC,OAAAlB,EAAAX,kBAA8BW,EAAAmB,GAAAnB,EAAA,iBAAA1D,EAAAgD,GAA2C,OAAAa,EAAA,gBAA0BiB,IAAA9B,EAAAgB,OAAiBhB,QAAA,MAAkBU,EAAAW,GAAAX,EAAAqB,GAAA/E,EAAAC,KAAA+E,YAAoC,eAAAtB,EAAAW,GAAA,KAAAR,EAAA,OAAuCE,YAAA,YAAsBL,EAAAjE,SAAA,OAAAoE,EAAA,WAAsCE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,aAAwBL,EAAAmB,GAAAnB,EAAA,kBAAA1D,EAAAgD,GAA4C,OAAAa,EAAA,aAAuBiB,IAAA9B,EAAAe,YAAA,WAAAC,OAAwCxC,KAAAwB,GAAAU,EAAAlE,gBAAA,aAAAyF,KAAA,QAA6DN,IAAKO,MAAA,SAAAC,GAAyB,OAAAzB,EAAAP,aAAAnD,EAAAgD,OAAsCU,EAAAW,GAAA,eAAAX,EAAAqB,GAAA/E,EAAAkC,UAAA,kBAA8D,GAAAwB,EAAAW,GAAA,KAAAR,EAAA,OAA2BE,YAAA,cAAwBF,EAAA,aAAkBE,YAAA,WAAAC,OAA8BiB,KAAA,OAAAG,MAAA,IAAyBT,IAAKO,MAAA,SAAAC,GAAyB,OAAAzB,EAAA5B,mBAA4B+B,EAAA,KAAUE,YAAA,0BAAoCL,EAAAW,GAAA,QAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA6CE,YAAA,WAAAC,OAA8BiB,KAAA,OAAAG,MAAA,IAAyBT,IAAKO,MAAA,SAAAC,GAAyB,OAAAzB,EAAAN,iBAAA,OAAiCM,EAAAW,GAAA,UAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA+CE,YAAA,WAAAC,OAA8BiB,KAAA,OAAAG,MAAA,IAAyBT,IAAKO,MAAA,SAAAC,GAAyB,OAAAzB,EAAAN,uBAAgCM,EAAAW,GAAA,gBAAAX,EAAA2B,KAAA3B,EAAAW,GAAA,SAAAX,EAAAjE,SAAAiC,OAAAmC,EAAA,WAAAA,EAAA,aAAsGE,YAAA,UAAAC,OAA6BxC,KAAA,UAAA8D,KAAA,gBAAuCX,IAAKO,MAAAxB,EAAAN,oBAA8BM,EAAAW,GAAA,gCAAAR,EAAA,WAAuDE,YAAA,cAAwBF,EAAA,0BAEp+D0B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErG,EACAmE,GATF,EAVA,SAAAmC,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/3.28368844065a0c12fa74.js","sourcesContent":["<template>\n  <div class=\"hello\">\n    <el-header class=\"tableheader\">\n      <el-row :gutter=\"20\" class=\"padd-height\">\n        <el-col :span=\"22\" :offset=\"0\" type=\"flex\" align='center' class=\"padd-height\">\n          <div class=\"logo\">\n            DM工具箱</div>\n          <el-menu mode=\"horizontal\" background-color=\"#545c64\" text-color=\"#fff\" active-text-color=\"#ffd04b\" :default-active=\"activeNavIndex+''\" @select=\"handleNavSelect\">\n            <el-menu-item :index=\"index+''\" v-for=\"(item, index) in navList\" :key=\"index\">{{item.meta.title}}</el-menu-item>\n          </el-menu>\n        </el-col>\n      </el-row>\n    </el-header>\n    <!-- 表单编辑 -->\n    <div class=\"hasmenu\">\n      <section class=\"form-list\" v-if='menuList.length'>\n        <div class=\"form-area\">\n          <el-button :type=\"index==activeMenuIndex?'primary':''\" class=\"form-btn\" size=\"mini\" @click=\"jumpPageForm(item,index)\" v-for=\"(item,index) in menuList\" :key=\"index\">\n            {{item.formname}}\n          </el-button>\n        </div>\n        <div class=\"btn-right\">\n          <el-button class=\"edit-btn\" size=\"mini\" @click=\"handleDelete()\" plain>\n            <i class=\"el-icon-delete delete\"></i>删除</el-button>\n          <el-button class=\"edit-btn\" size=\"mini\" @click=\"jumpPageEditForm(1)\" plain>编辑表单</el-button>\n          <el-button class=\"edit-btn\" size=\"mini\" @click=\"jumpPageEditForm()\" plain>新建表单</el-button>\n        </div>\n      </section>\n      <section v-if='menuList.length===0'>\n        <el-button type=\"primary\" class=\"big-btn\" icon='el-icon-plus' @click=\"jumpPageEditForm\">\n          添加表单\n        </el-button>\n      </section>\n      <section class=\"main-area\" v-else>\n        <router-view> </router-view>\n      </section>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'index',\n    data() {\n      return {\n        activeMenuIndex: 0,\n        menuList: [],\n        navList: this.$router.options.routes.filter(item => item.meta && item.meta.nav),\n        activeNavIndex: 0,\n\n      }\n    },\n    computed: {\n      formid() {\n        return this.$route.query.id\n      }\n    },\n    created() {\n      this.getFormList();\n    },\n    methods: {\n      async getFormList() {\n        let data = await this.$http.post('/form/getFormList', {\n          type: 1\n        })\n        this.menuList = data.data\n        if (this.menuList && this.menuList.length) {\n          Object.assign(this.$route.query, {\n            id: this.menuList[0].id\n          })\n        } else {\n          // location.href = '/'\n          this.$router.push('/')\n        }\n      },\n      handleDelete() {\n        if (!this.menuList[this.activeMenuIndex]) return\n        this.$confirm('确认' + this.menuList[this.activeMenuIndex].formname + '删除吗', '提示').then(async data => {\n          if (data === 'confirm') {\n            let data = await this.$http.post('/form/deleteForm', {\n              id: this.formid\n            })\n            if (data.code === 1) {\n              this.$message.success(data.message)\n            } else {\n              this.$message.error('删除失败')\n            }\n            this.getFormList();\n          }\n        })\n      },\n      handleNavSelect(index) {\n        console.log(index)\n        this.activeMenuIndex = index;\n      },\n      jumpPageForm(item, index) {\n        this.activeMenuIndex = index;\n        this.$router.push('/user/output-release?id=' + item.id)\n      },\n      jumpPageEditForm(isEdit) {\n        let id = ``\n        let name = ``\n        if (isEdit) {\n          id = this.formid\n          // name=this.formid\n\n        }\n        window.open('/admin/editForm?id=' + id)\n      },\n\n\n    }\n  }\n</script>\n\n<style lang='less'>\n  .form-list {\n    padding: 10px 30px;\n    padding-top: 20px;\n    height: 60px;\n\n    // width: 100%;\n    position: relative;\n\n    position: fixed;\n    top: 60px;\n    left: 0;\n    right: 0;\n    background: #fff;\n    z-index: 10;\n\n  }\n\n  .main-area {\n    padding-top: 120px;\n  }\n\n  .big-btn {\n    display: block;\n    margin: 150px auto;\n    width: 200px;\n    height: 70px;\n    font-size: 20px;\n  }\n\n  .tableheader {\n    // background: rgb(64, 158, 255);\n    // color: #fff;\n    font-size: 25px;\n    height: 60px;\n    position: fixed;\n    width: 100%;\n    top: 0;\n    left: 0;\n    z-index: 10;\n  }\n\n  .padd-height {\n    line-height: 60px;\n  }\n\n  .el-header {\n    background: rgb(84, 92, 100);\n  }\n\n  .form-area {\n    float: left;\n    background: #fff;\n\n    .form-btn {\n      margin-right: 10px;\n      margin-bottom: 6px;\n    }\n  }\n\n  .btn-right {\n    float: right;\n  }\n\n  .logo {\n\n    width: 200px;\n    float: left;\n    color: #fff;\n    z-index: 9;\n    font-size: 22px;\n    position: relative;\n\n  }\n\n\n  .edit-btn {\n    background: #fff;\n  }\n\n  .btn-right {\n\n    .delete {\n      // padding: 5px;\n      border-radius: 5px;\n      cursor: pointer;\n      opacity: 0.8;\n\n      &:hover {\n        opacity: 1;\n\n      }\n\n    }\n\n  }\n\n\n  .container {\n    height: calc(100vh - 60px);\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('el-header',{staticClass:\"tableheader\"},[_c('el-row',{staticClass:\"padd-height\",attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"padd-height\",attrs:{\"span\":22,\"offset\":0,\"type\":\"flex\",\"align\":\"center\"}},[_c('div',{staticClass:\"logo\"},[_vm._v(\"\\n          DM工具箱\")]),_vm._v(\" \"),_c('el-menu',{attrs:{\"mode\":\"horizontal\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\",\"default-active\":_vm.activeNavIndex+''},on:{\"select\":_vm.handleNavSelect}},_vm._l((_vm.navList),function(item,index){return _c('el-menu-item',{key:index,attrs:{\"index\":index+''}},[_vm._v(_vm._s(item.meta.title))])}),1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"hasmenu\"},[(_vm.menuList.length)?_c('section',{staticClass:\"form-list\"},[_c('div',{staticClass:\"form-area\"},_vm._l((_vm.menuList),function(item,index){return _c('el-button',{key:index,staticClass:\"form-btn\",attrs:{\"type\":index==_vm.activeMenuIndex?'primary':'',\"size\":\"mini\"},on:{\"click\":function($event){return _vm.jumpPageForm(item,index)}}},[_vm._v(\"\\n          \"+_vm._s(item.formname)+\"\\n        \")])}),1),_vm._v(\" \"),_c('div',{staticClass:\"btn-right\"},[_c('el-button',{staticClass:\"edit-btn\",attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleDelete()}}},[_c('i',{staticClass:\"el-icon-delete delete\"}),_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"edit-btn\",attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.jumpPageEditForm(1)}}},[_vm._v(\"编辑表单\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"edit-btn\",attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.jumpPageEditForm()}}},[_vm._v(\"新建表单\")])],1)]):_vm._e(),_vm._v(\" \"),(_vm.menuList.length===0)?_c('section',[_c('el-button',{staticClass:\"big-btn\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.jumpPageEditForm}},[_vm._v(\"\\n        添加表单\\n      \")])],1):_c('section',{staticClass:\"main-area\"},[_c('router-view')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51142412\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51142412\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51142412\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}