webpackJsonp([2],{Cdx3:function(t,e,n){var a=n("sB3e"),i=n("lktj");n("uqUo")("keys",function(){return function(t){return i(a(t))}})},KbRh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fZjL"),i=n.n(a),r=n("Xxa5"),o=n.n(r),s=n("exGp"),c=n.n(s),u={name:"",data:function(){return{detail:{},jsonData:{},isShowForm:!1,detailid:0,isLoading:!1}},watch:{$route:function(t){t&&this.getFormDetail()}},computed:{formid:function(){return this.$route.query.id}},created:function(){this.getFormDetail()},methods:{getFormDetail:function(){var t=this;return c()(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$http.post("/form/getFormDetail",{id:t.$route.query.id}).catch(function(e){return t.isLoading=!1});case 3:if(n=e.sent,t.isLoading=!1,n&&n.data){e.next=7;break}return e.abrupt("return");case 7:t.detail=n.data,a=decodeURIComponent(t.detail.formdata),t.jsonData=JSON.parse(a),t.$nextTick(function(){t.isShowForm=!0,t.isLoading=!1});case 11:case"end":return e.stop()}},e,t)}))()},handleDelete:function(){var t,e=this;this.$confirm('确认删除<span style="color:red;">'+this.detail.formname+"</span>吗","提示",{dangerouslyUseHTMLString:!0}).then((t=c()(o.a.mark(function t(n){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("confirm"!==n){t.next=7;break}return t.abrupt("return");case 4:1===(a=t.sent).code?e.$message.success(a.message):e.$message.error("删除失败"),e.getFormList();case 7:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},jumpPageEditForm:function(t){var e="";t&&(e=this.formid),this.$router.push({path:"/admin/editForm",query:{id:e}})},handleOutPut:function(t){var e=this;this.$refs.generateForm.getData().then(function(n){var a=[];if(i()(n).forEach(function(t){if(!t.includes("demo")&&!t.includes("date_pubish")){var i=n[t]instanceof Array?n[t].join("、"):n[t],r=e.jsonData.list.find(function(e){return e.model==t}).name;i=i.replace(/\(前端\)/g,"").replace(/\(后端\)/g,""),a.push(r+":"+i+"\t\n")}}),(a=a.map(function(t,e){return t=e+1+"."+t})).unshift(n.date_updatetime+"-网厅-正式环境更新说明：\t\n"),!t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a.join(""))),r.setAttribute("download",n.date_pubish),r.style.display="none",r.click()}}).catch(function(t){})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}]},[n("div",{staticClass:"btn-right"},[n("el-button",{staticClass:"edit-btn",attrs:{size:"mini",plain:""},on:{click:function(e){return t.handleDelete()}}},[n("i",{staticClass:"el-icon-delete delete"}),t._v("删除")]),t._v(" "),n("el-button",{staticClass:"edit-btn",attrs:{size:"mini",plain:""},on:{click:function(e){return t.jumpPageEditForm(1)}}},[t._v("编辑表单")]),t._v(" "),n("el-button",{staticClass:"edit-btn",attrs:{size:"mini",plain:""},on:{click:function(e){return t.jumpPageEditForm()}}},[t._v("新建表单")])],1),t._v(" "),t.isShowForm?n("fm-generate-form",{ref:"generateForm",staticClass:"form-box",attrs:{data:t.jsonData}}):t._e(),t._v(" "),n("section",{staticClass:"export-btn"},[n("el-button",{attrs:{type:"primary",size:"default"},on:{click:t.handleOutPut}},[t._v("\n      导出txt\n    ")])],1)],1)},staticRenderFns:[]};var l=n("VU/8")(u,d,!1,function(t){n("p2kc")},"data-v-7e63ecc2",null);e.default=l.exports},fZjL:function(t,e,n){t.exports={default:n("jFbC"),__esModule:!0}},jFbC:function(t,e,n){n("Cdx3"),t.exports=n("FeBl").Object.keys},p2kc:function(t,e){},uqUo:function(t,e,n){var a=n("kM2E"),i=n("FeBl"),r=n("S82l");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),a(a.S+a.F*r(function(){n(1)}),"Object",o)}}});
//# sourceMappingURL=2.69c729ec9a0d3ec9c856.js.map